"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");var _Object$defineProperty=require("@babel/runtime-corejs3/core-js-stable/object/define-property");_Object$defineProperty(exports,"__esModule",{value:true});exports.default=createStore;var _forEach=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/for-each"));var _event=_interopRequireDefault(require("@mna/event"));var _state=_interopRequireDefault(require("./state"));var _actions=_interopRequireDefault(require("./actions"));var _childStores=_interopRequireDefault(require("./childStores"));function createStore(props={}){const store=(0,_event.default)();(0,_state.default)(store,props);(0,_actions.default)(store,props);(0,_childStores.default)(store,props,createStore);if(props.states){var _context;(0,_forEach.default)(_context=props.states).call(_context,({createState,actions})=>{if(createState)store.extendState(createState);if(actions)store.extendActions(actions);});}return store;}module.exports=exports.default;