"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");var _Object$defineProperty=require("@babel/runtime-corejs3/core-js-stable/object/define-property");_Object$defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _promise=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/promise"));var _child_process=require("child_process");const runCommand=(command,args,stdout,stderr)=>new _promise.default((resolve,reject)=>{console.log([command,...args].join(' '));const p=(0,_child_process.spawn)(command,args,{shell:true});const plog=(logger,data)=>{const d=`${data}`.replace(/^\s+|\s+$/g,'');if(!d)return;logger(d);};p.stdout.on('data',data=>plog(stdout||console.log,data));p.stderr.on('data',data=>plog(stderr||console.error,data));p.on('close',code=>resolve(code));});var _default=runCommand;exports.default=_default;module.exports=exports.default;