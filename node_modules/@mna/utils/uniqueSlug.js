"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");var _Object$defineProperty=require("@babel/runtime-corejs3/core-js-stable/object/define-property");require("core-js/modules/es.string.split");_Object$defineProperty(exports,"__esModule",{value:true});exports.default=uniqueSlug;var _keys=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/object/keys"));var _forEach=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/for-each"));var _isNumeric=_interopRequireDefault(require("./isNumeric"));function uniqueSlug({items,slug,id=0}){var _context;let i=0,newSlug=slug;(0,_forEach.default)(_context=(0,_keys.default)(items)).call(_context,key=>{if(items[key].id!==id&&items[key].slug===newSlug){if(i===0)slug=getBase(slug);i++;newSlug=slug+'-'+(i+1);}});return newSlug;}function getBase(slug){let parts=slug.split('-');const lastPart=parts[parts.length-1];if(parts.length>1&&(0,_isNumeric.default)(lastPart)){parts.pop();}return parts.join('-');}module.exports=exports.default;